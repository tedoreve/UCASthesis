\chapter{工具型代码}
\label{Code}
\section{单位制计算}
\label{Codeu}
from astropy import units as un

from astropy import constants as con

import numpy as np

\#==========================单位计算=================================

UNIT\_DENSITY = 1*con.m\_p/un.cm**3

UNIT\_LENGTH  = 1*un.pc

UNIT\_VELOCITY= 1e4*un.km/un.s

UNIT\_B = (UNIT\_VELOCITY*np.sqrt(4*np.pi*UNIT\_DENSITY)).to(un.g**0.5*un.cm**-0.5*un.s**-1).value*un.G

UNIT\_t = UNIT\_LENGTH/UNIT\_VELOCITY

UNIT\_P = UNIT\_DENSITY*UNIT\_VELOCITY**2
UNIT\_M = UNIT\_DENSITY*UNIT\_LENGTH**3

UNIT\_E = UNIT\_M*UNIT\_VELOCITY**2

\#UNIT\_B = ((UNIT\_E/UNIT\_LENGTH**3)**0.5).value*un.G

UNIT\_NU= UNIT\_P*UNIT\_t

UNIT\_G = (UNIT\_VELOCITY/UNIT\_LENGTH)**2/UNIT\_DENSITY

\#=====================输入需要转换的参量============================

n   = 0.21*con.m\_p/un.cm**3

l   = 4*un.pc

v   = 490*un.km/un.s

B   = 9*un.uG

t   = 1000*un.yr

P   = 1*un.Ba

E\_th= 0.96*un.erg

E   = 2.0e51*un.erg

M   = 15.9*con.M\_sun

nu  = 2*un.uPa*un.s

G   = 1*con.G

\#============================开始转换=============================

n   /= UNIT\_DENSITY

l   /= UNIT\_LENGTH

v   /= UNIT\_VELOCITY

B   /= UNIT\_B

t   /= UNIT\_t

P   /= UNIT\_P

E   /= UNIT\_E

M   /= UNIT\_M

nu  /= UNIT\_NU

G   /= UNIT\_G

\#===========================输出结果=================================

print('n = ', n.to('').value,

      'l = ', l.to('').value,

      'v = ', v.to('').value,

      'B = ', B.to('').value,

      't = ', t.to('').value,

      'P = ', P.to('').value,

      'E = ', E.to('').value,

      'M = ', M.to('').value,

      'nu = ', nu.to('').value,

      'G = ', G.to('').value,

      )
